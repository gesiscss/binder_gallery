function IdPSelectLanguages(){this.langBundles={en:{"fatal.divMissing":'<div> specified  as "insertAtDiv" could not be located in the HTML',"fatal.noXMLHttpRequest":"Browser does not support XMLHttpRequest, unable to load IdP selection data","fatal.wrongProtocol":'Policy supplied to DS was not "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"entityId supplied by SP did not match configuration","fatal.noData":"Metadata download returned no data","fatal.loadFailed":"Failed to download metadata from ","fatal.noparms":"No parameters to discovery session and no defaultReturn parameter configured","fatal.noReturnURL":"No URL return parameter provided","fatal.badProtocol":"Return request must start with https:// or http://","idpPreferred.label":"Use a suggested selection:","idpEntry.label":"Or enter your organization's name","idpEntry.NoPreferred.label":"Enter your organization's name","idpList.label":"Or select your organization from the list below","idpList.NoPreferred.label":"Select your organization from the list below","idpList.defaultOptionLabel":"Please select your organization...","idpList.showList":"Allow me to pick from a list","idpList.showSearch":"Allow me to specify the site","submitButton.label":"Continue",helpText:"Help",defaultLogoAlt:"DefaultLogo","autoFollow.message":"Always follows this selection","autoFollow.never":"Never","autoFollow.time0":"One day","autoFollow.time1":"3 months","autoFollow.time2":"9 months"},de:{"fatal.divMissing":"Das notwendige Div Element fehlt","fatal.noXMLHttpRequest":"Ihr Webbrowser unterst\u00fctzt keine XMLHttpRequests, IdP-Auswahl kann nicht geladen werden","fatal.wrongProtocol":'DS bekam eine andere Policy als "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"Die entityId ist nicht korrekt","fatal.loadFailed":"Metadaten konnten nicht heruntergeladen werden: ","fatal.noparms":"Parameter f\u00fcr das Discovery Service oder 'defaultReturn' fehlen","fatal.noReturnURL":"URL return Parmeter fehlt","fatal.badProtocol":"return Request muss mit https:// oder http:// beginnen","idpPreferred.label":"Vorherige Auswahl:","idpEntry.label":"Oder geben Sie den Namen (oder Teile davon) an:","idpEntry.NoPreferred.label":"Namen (oder Teile davon) der Institution angeben:","idpList.label":"Oder w\u00e4hlen Sie Ihre Institution aus einer Liste:","idpList.NoPreferred.label":"Institution aus folgender Liste w\u00e4hlen:","idpList.defaultOptionLabel":"W\u00e4hlen Sie Ihre Institution aus...","idpList.showList":"Institution aus einer Liste w\u00e4hlen","idpList.showSearch":"Institution selbst angeben","submitButton.label":"OK",helpText:"Hilfe",defaultLogoAlt:"Standard logo"},ja:{"fatal.divMissing":'"insertAtDiv" の ID を持つ <div> が HTML 中に存在しません',"fatal.noXMLHttpRequest":"ブラウザが XMLHttpRequest をサポートしていないので IdP 情報を取得できません","fatal.wrongProtocol":'DSへ渡された Policy パラメータが "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single" ではありません',"fatal.wrongEntityId":"SP から渡された entityId が設定値と異なります","fatal.noData":"メタデータが空です","fatal.loadFailed":"次の URL からメタデータをダウンロードできませんでした: ","fatal.noparms":"DSにパラメータが渡されておらず defaultReturn も設定されていません","fatal.noReturnURL":"戻り URL が指定されていません","fatal.badProtocol":"戻り URL は https:// か http:// で始まらなければなりません","idpPreferred.label":"選択候補の IdP:","idpEntry.label":"もしくはあなたの所属機関名を入力してください","idpEntry.NoPreferred.label":"あなたの所属機関名を入力してください","idpList.label":"もしくはあなたの所属機関を選択してください","idpList.NoPreferred.label":"あなたの所属機関を一覧から選択してください","idpList.defaultOptionLabel":"所属機関を選択してください...","idpList.showList":"一覧から選択する","idpList.showSearch":"機関名を入力する","submitButton.label":"選択","autoFollow.message":"次の期間選択した機関に自動的に遷移する:","autoFollow.never":"自動遷移しない","autoFollow.time0":"1日","autoFollow.time1":"3か月","autoFollow.time2":"9か月",helpText:"Help",defaultLogoAlt:"DefaultLogo"},"pt-br":{"fatal.divMissing":'A tag <div> com "insertAtDiv" não foi encontrada no arquivo HTML',"fatal.noXMLHttpRequest":'Seu navegador não suporta "XMLHttpRequest", impossível de carregador os dados do IdP selecionado',"fatal.wrongProtocol":'A política "Policy" fornecida para o DS não foi "urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"',"fatal.wrongEntityId":"entityId oferecido pelo SP não confere com o da configuração","fatal.noData":"O arquivo de metadados não retornou nada;","fatal.loadFailed":"Falhou ao realizar download do metadado de ","fatal.noparms":'Sem parâmetros para sessão de descoberta e sem parâmetro "defaultReturn" configurado',"fatal.noReturnURL":"Não foi definida um endereço (URL) de retorno no parâmetro","fatal.badProtocol":"Retorno do endereço requisitado deve começar com https:// ou http://","idpPreferred.label":"Use estas Instituições sugeridas: ","idpEntry.label":"Ou informe o nome da sua Instituição","idpEntry.NoPreferred.label":"Informe o nome da sua Instituição","idpList.label":"Ou selecione sua Instituição através da lista abaixo","idpList.NoPreferred.label":"Selecione sua Instituição através da lista abaixo","idpList.defaultOptionLabel":"Por favor, selecione sua Instituição: ","idpList.showList":"Permitir que eu escolha um IdP através de uma lista","idpList.showSearch":"Permitir que eu especifique o IdP","submitButton.label":"Continuar ",helpText:"Ajuda",defaultLogoAlt:"Logo padrão"}}}function TypeAheadControl(l,f,j,g,i,b,h,e,a,c,d,k){this.elementList=l;this.textBox=f;this.origin=j;this.submit=g;this.results=0;this.alwaysShow=c;this.maxResults=d;this.ie6hack=a;this.maxchars=i;this.getName=b;this.getEntityId=h;this.geticon=e;this.getKeywords=k}TypeAheadControl.prototype.draw=function(b){var a=this;this.dropDown=document.createElement("ul");this.dropDown.className="IdPSelectDropDown";this.dropDown.style.visibility="hidden";this.dropDown.style.width=this.textBox.offsetWidth;this.dropDown.current=-1;this.textBox.setAttribute("role","listbox");document.body.appendChild(this.dropDown);this.textBox.setAttribute("role","combobox");this.textBox.setAttribute("aria-controls","IdPSelectDropDown");this.textBox.setAttribute("aria-owns","IdPSelectDropDown");this.dropDown.onmouseover=function(c){if(!c){c=window.event}var d;if(c.target){d=c.target}if(typeof d=="undefined"){d=c.srcElement}a.select(d)};this.dropDown.onmousedown=function(c){if(-1!=a.dropDown.current){a.textBox.value=a.results[a.dropDown.current][0]}};this.textBox.onkeyup=function(c){if(!c){c=window.event}a.handleKeyUp(c)};this.textBox.onkeydown=function(c){if(!c){c=window.event}a.handleKeyDown(c)};this.textBox.onblur=function(){a.hideDrop()};this.textBox.onfocus=function(){a.handleChange()};if(null==b||b){this.textBox.focus()}};TypeAheadControl.prototype.getPossible=function(b){var h=[];var j=0;var f=0;var e=0;var g;var i;b=b.toLowerCase();while(f<=this.maxResults&&j<this.elementList.length){var a=false;var c=this.getName(this.elementList[j]);if(c.toLowerCase().indexOf(b)!=-1){a=true}if(!a&&this.getEntityId(this.elementList[j]).toLowerCase().indexOf(b)!=-1){a=true}if(!a){var d=this.getKeywords(this.elementList[j]);if(null!=d&&d.toLowerCase().indexOf(b)!=-1){a=true}}if(a){h[f]=[c,this.getEntityId(this.elementList[j]),this.geticon(this.elementList[j])];f++}j++}this.dropDown.current=-1;return h};TypeAheadControl.prototype.handleKeyUp=function(b){var a=b.keyCode;if(27==a){this.textBox.value="";this.handleChange()}else{if(8==a||32==a||(a>=46&&a<112)||a>123){this.handleChange()}}};TypeAheadControl.prototype.handleKeyDown=function(b){var a=b.keyCode;if(38==a){this.upSelect()}else{if(40==a){this.downSelect()}}};TypeAheadControl.prototype.hideDrop=function(){var a=0;if(null!==this.ie6hack){while(a<this.ie6hack.length){this.ie6hack[a].style.visibility="visible";a++}}this.dropDown.style.visibility="hidden";this.textBox.setAttribute("aria-expanded","false");if(-1==this.dropDown.current){this.doUnselected()}};TypeAheadControl.prototype.showDrop=function(){var a=0;if(null!==this.ie6hack){while(a<this.ie6hack.length){this.ie6hack[a].style.visibility="hidden";a++}}this.dropDown.style.visibility="visible";this.dropDown.style.width=this.textBox.offsetWidth+"px";this.textBox.setAttribute("aria-expanded","true")};TypeAheadControl.prototype.doSelected=function(){this.submit.disabled=false};TypeAheadControl.prototype.doUnselected=function(){this.submit.disabled=true;this.textBox.setAttribute("aria-activedescendant","")};TypeAheadControl.prototype.handleChange=function(){var b=this.textBox.value;var a=this.getPossible(b);if(0===b.length||0===a.length||(!this.alwaysShow&&this.maxResults<a.length)){this.hideDrop();this.doUnselected();this.results=[];this.dropDown.current=-1}else{this.results=a;this.populateDropDown(a);if(1==a.length){this.select(this.dropDown.childNodes[0]);this.doSelected()}else{this.doUnselected()}}};TypeAheadControl.prototype.populateDropDown=function(d){this.dropDown.innerHTML="";var c=0;var a;var b;var f;while(c<d.length){a=document.createElement("li");a.id="IdPSelectOption"+c;f=d[c][0];if(null!==d[c][2]){b=document.createElement("img");b.src=d[c][2];b.width=16;b.height=16;b.alt="";a.appendChild(b);if(f.length>this.maxchars-2){f=f.substring(0,this.maxchars-2)}f=" "+f}else{if(f.length>this.maxchars){f=f.substring(0,this.maxchars)}}a.appendChild(document.createTextNode(f));a.setAttribute("role","option");this.dropDown.appendChild(a);c++}var e=this.getXY();this.dropDown.style.left=e[0]+"px";this.dropDown.style.top=e[1]+"px";this.showDrop()};TypeAheadControl.prototype.getXY=function(){var a=this.textBox;var c=0;var b=a.offsetHeight;while(a.tagName!="BODY"){c+=a.offsetLeft;b+=a.offsetTop;a=a.offsetParent}c+=a.offsetLeft;b+=a.offsetTop;return[c,b]};TypeAheadControl.prototype.select=function(b){var a=0;var c;this.dropDown.current=-1;this.doUnselected();while(a<this.dropDown.childNodes.length){c=this.dropDown.childNodes[a];if(c==b){c.className="IdPSelectCurrent";c.setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+a);this.doSelected();this.dropDown.current=a;this.origin.value=this.results[a][1];this.origin.textValue=this.results[a][0]}else{c.setAttribute("aria-selected","false");c.className=""}a++}this.textBox.focus()};TypeAheadControl.prototype.downSelect=function(){if(this.results.length>0){if(-1==this.dropDown.current){this.dropDown.current=0;this.dropDown.childNodes[0].className="IdPSelectCurrent";this.dropDown.childNodes[0].setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+0);this.doSelected();this.origin.value=this.results[0][1];this.origin.textValue=this.results[0][0]}else{if(this.dropDown.current<(this.results.length-1)){this.dropDown.childNodes[this.dropDown.current].className="";this.dropDown.current++;this.dropDown.childNodes[this.dropDown.current].className="IdPSelectCurrent";this.dropDown.childNodes[this.dropDown.current].setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+this.dropDown.current);this.doSelected();this.origin.value=this.results[this.dropDown.current][1];this.origin.textValue=this.results[this.dropDown.current][0]}}}};TypeAheadControl.prototype.upSelect=function(){if((this.results.length>0)&&(this.dropDown.current>0)){this.dropDown.childNodes[this.dropDown.current].className="";this.dropDown.current--;this.dropDown.childNodes[this.dropDown.current].className="IdPSelectCurrent";this.dropDown.childNodes[this.dropDown.current].setAttribute("aria-selected","true");this.textBox.setAttribute("aria-activedescendant","IdPSelectOption"+this.dropDown.current);this.doSelected();this.origin.value=this.results[this.dropDown.current][1];this.origin.textValue=this.results[this.dropDown.current][0]}};function IdPSelectUI(){var q;var V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var aH;var R;var az;var al;var Z;var d;var E;var m;var x;var j;var au;var f;var s;var aa;var af;var C;var ae;var Q;var g;var J;var ar;var M;var S;var aj;var av;var ao;var c;var ad;var F;var P;var Y;var O;var T;var i;var ax;var U;var aJ="idpSelect";var ah="IdPSelect";var ap;var A="";var X="";var ay=[];var aE="entityID";this.draw=function(aN){if(!l(aN)){return}aH=document.getElementById(aN.insertAtDiv);if(!aH){N(z("fatal.divMissing"));return}if((null!=P)&&(null!=h(P))){var aK=b();if(aK.length!=0){var aM=aE+"="+encodeURIComponent(aK[0]);if(A.indexOf("?")==-1){aM="?"+aM}else{aM="&"+aM}p(aH,A+aM);return}}if(!e(aN.dataSource)){return}aI();t(aN.hiddenIdPs);q.sort(function(aP,aO){return aC(aP).localeCompare(aC(aO))});var aL=ab();aH.appendChild(aL);ap.draw(aN.setFocusTextBox)};var l=function(aR){var aL;C=aR.preferredIdP;ae=aR.maxPreferredIdPs;Q=aR.helpURL;g=aR.ie6Hack;J=aR.samlIdPCookieTTL;aj=aR.alwaysShow;av=aR.maxResults;ao=aR.ignoreKeywords;if(aR.showListFirst){c=aR.showListFirst}else{c=false}if(aR.noWriteCookie){ad=aR.noWriteCookie}else{ad=false}if(aR.ignoreURLParams){F=aR.ignoreURLParams}else{F=false}E=aR.defaultLogo;m=aR.defaultLogoWidth;x=aR.defaultLogoHeight;j=aR.minWidth;au=aR.minHeight;f=aR.maxWidth;s=aR.maxHeight;aa=aR.bestRatio;if(null==aR.doNotCollapse){af=true}else{af=aR.doNotCollapse}M=aR.maxIdPCharsButton;ar=aR.maxIdPCharsDropDown;S=aR.maxIdPCharsAltTxt;P=aR.autoFollowCookie;Y=aR.autoFollowCookieTTLs;var a1;if(typeof navigator=="undefined"){a1=aR.defaultLanguage}else{a1=navigator.language||navigator.userLanguage||aR.defaultLanguage}a1=a1.toLowerCase();if(a1.indexOf("-")>0){az=a1.substring(0,a1.indexOf("-"))}var aV=new IdPSelectLanguages();al=aR.defaultLanguage;if(typeof aR.langBundles!="undefined"&&typeof aR.langBundles[a1]!="undefined"){Z=aR.langBundles[a1]}else{if(typeof aV.langBundles[a1]!="undefined"){Z=aV.langBundles[a1]}else{if(typeof az!="undefined"){if(typeof aR.langBundles!="undefined"&&typeof aR.langBundles[az]!="undefined"){Z=aR.langBundles[az]}else{if(typeof aV.langBundles[az]!="undefined"){Z=aV.langBundles[az]}}}}}if(typeof aR.langBundles!="undefined"&&typeof aR.langBundles[aR.defaultLanguage]!="undefined"){d=aR.langBundles[aR.defaultLanguage]}else{d=aV.langBundles[aR.defaultLanguage]}if(!d){N("No languages work");return false}if(!Z){r("No language support for "+a1);Z=d}if(aR.testGUI){return true}var aW="urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single";var aZ;var a0=false;var aP;var aS;var aO=window;while(null!==aO.parent&&aO!==aO.parent){aO=aO.parent}var aU=aO.location;var aQ=aU.search;if(F||null==aQ||0==aQ.length||aQ.charAt(0)!="?"){if((null==aR.defaultReturn)&&!F){N(z("fatal.noparms"));return false}aL=aR.myEntityID;A=aR.defaultReturn;if(null!=aR.defaultReturnIDParam){aE=aR.defaultReturnIDParam}}else{aQ=aQ.substring(1);aP=aQ.split("&");if(aP.length===0){N(z("fatal.noparms"));return false}for(aZ=0;aZ<aP.length;aZ++){aS=aP[aZ].split("=");if(aS.length!=2){continue}if(aS[0]=="entityID"){aL=decodeURIComponent(aS[1])}else{if(aS[0]=="return"){A=decodeURIComponent(aS[1])}else{if(aS[0]=="returnIDParam"){aE=decodeURIComponent(aS[1])}else{if(aS[0]=="policy"){aW=decodeURIComponent(aS[1])}else{if(aS[0]=="isPassive"){a0=(aS[1].toUpperCase()=="TRUE")}}}}}}}var aK;if(null==aR.allowableProtocols){aK=["urn:oasis:names:tc:SAML:profiles:SSO:idpdiscovery-protocol:single"]}else{aK=aR.allowableProtocols}var aY=false;for(var aZ=0;aZ<aK.length;aZ++){var aX=aK[aZ];if(aW==aX){aY=true;break}}if(!aY){N(z("fatal.wrongProtocol"));return false}if(aR.myEntityID!==null&&aR.myEntityID!=aL){N(z("fatal.wrongEntityId")+'"'+aL+'" != "'+aR.myEntityID+'"');return false}if(null===A||A.length===0){N(z("fatal.noReturnURL"));return false}if(!am(A)){N(z("fatal.badProtocol"));return false}if(a0){var aN=b();var aT=document.getElementById(parmsSupplied.insertAtDiv);if(aN.length==0){p(aT,A);return false}else{var aM=aE+"="+encodeURIComponent(aN[0]);if(A.indexOf("?")==-1){aM="?"+aM}else{aM="&"+aM}p(aT,A+aM);return false}}aZ=A.indexOf("?");if(aZ<0){X=A;return true}X=A.substring(0,aZ);aQ=A.substring(aZ+1);aP=aQ.split("&");for(aZ=0;aZ<aP.length;aZ++){aS=aP[aZ].split("=");if(aS.length!=2){continue}aS[1]=decodeURIComponent(aS[1]);ay.push(aS)}return true};var aI=function(){var aM=[];var aL;for(aL=0;aL<q.length;){var aK=y(q[aL]);if(null==aM[aK]){aM[aK]=aK;aL=aL+1}else{q.splice(aL,1)}}};var t=function(aM){if(null==aM||0==aM.length){return}var aL;var aK;for(aL=0;aL<aM.length;aL++){for(aK=0;aK<q.length;aK++){if(y(q[aK])==aM[aL]){q.splice(aK,1);break}}}};var am=function(aL){if(null===aL){return false}var aK="://";var aM=aL.indexOf(aK);if(aM<0){return false}aL=aL.substring(0,aM);if(aL=="http"||aL=="https"){return true}return false};var aG=function(){if(null==navigator){return false}var aK=navigator.appName;if(null==aK){return false}return(aK=="Microsoft Internet Explorer")};var p=function(aL,aM){var aK=document.createElement("a");aK.href=aM;aL.appendChild(aK);aK.click()};var e=function(aN){var aM=null;try{aM=new XMLHttpRequest()}catch(aL){}if(null==aM){try{aM=new ActiveXObject("Microsoft.XMLHTTP")}catch(aL){}}if(null==aM){try{aM=new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(aL){}}if(null==aM){N(z("fatal.noXMLHttpRequest"));return false}if(aG()){aN+="?random="+(Math.random()*1000000)}aM.open("GET",aN,false);if(typeof aM.overrideMimeType=="function"){aM.overrideMimeType("application/json")}aM.send(null);if(aM.status==200){var aK=aM.responseText;if(aK===null){N(z("fatal.noData"));return false}q=JSON.parse(aK)}else{N(z("fatal.loadFailed")+aN);return false}return true};var ac=function(aK){for(var aL=0;aL<q.length;aL++){if(y(q[aL])==aK){return q[aL]}}return null};var G=function(aR,aL){var aQ=function(aU){var aS=null;var aT;if(null==aR.Logos){return null}for(aT in aR.Logos){if(aR.Logos[aT].lang==aU&&aR.Logos[aT].width!=null&&aR.Logos[aT].width>=j&&aR.Logos[aT].height!=null&&aR.Logos[aT].height>=au){if(aS===null){aS=aR.Logos[aT]}else{me=Math.abs(aa-Math.log(aR.Logos[aT].width/aR.Logos[aT].height));him=Math.abs(aa-Math.log(aS.width/aS.height));if(him>me){aS=aR.Logos[aT]}}}}return aS};var aN=null;var aM=document.createElement("img");ak(aM,"IdPImg");aN=aQ(R);if(null===aN&&typeof az!="undefined"){aN=aQ(az)}if(null===aN){aN=aQ(null)}if(null===aN){aN=aQ(al)}if(null===aN){if(!aL){return null}aM.src=E;aM.width=m;aM.height=x;aM.alt=z("defaultLogoAlt");return aM}aM.src=aN.value;var aO=aC(aR);if(aO.length>S){aO=aO.substring(0,S)+"..."}aM.alt=aO;var aK=aN.width;var aP=aN.height;if(aK>f){aP=(f/aK)*aP;aK=f}if(aP>s){aK=(s/aP)*aK;aP=s}aM.setAttribute("width",aK);aM.setAttribute("height",aP);return aM};var ab=function(){var aL=an("IdPSelector");var aK;aK=aA(aL);n(aL,aK);W(aL,aK);if(null!=P){B(aL)}return aL};var L=function(aM,aT,aL){var aK=an(undefined,"PreferredIdPButton");var aS=document.createElement("a");var aR=aE+"="+encodeURIComponent(y(aM));var aN=A;var aP=G(aM,aL);if(aN.indexOf("?")==-1){aR="?"+aR}else{aR="&"+aR}aS.href=aN+aR;aS.onclick=function(){aF(y(aM))};if(null!=aP){var aU=an(undefined,"PreferredIdPImg");aU.appendChild(aP);aS.appendChild(aU)}var aQ=an(undefined,"TextDiv");var aO=aC(aM);if(aO.length>M){aO=aO.substring(0,M)+"..."}aK.title=aO;aQ.appendChild(document.createTextNode(aO));aS.appendChild(aQ);aK.appendChild(aS);return aK};var aD=function(aK,aN){var aM=an(undefined,"TextDiv");var aL=document.createTextNode(z(aN));aM.appendChild(aL);aK.appendChild(aM)};var a=function(aK,aM){if(null===aM||0===aM.length||"-"==aM.value){return}var aL=0;while(aL<aK.options.length){if(aK.options[aL].value==aM){aK.options[aL].selected=true;break}aL++}};var aA=function(aP){var aO=K();if(0===aO.length){return false}var aK=af;for(var aM=0;aM<ae&&aM<aO.length;aM++){if(aO[aM]&&G(aO[aM],false)){aK=true}}var aN;if(aK){aN=an("PreferredIdPTile")}else{aN=an("PreferredIdPTileNoImg")}aD(aN,"idpPreferred.label");for(var aM=0;aM<ae&&aM<aO.length;aM++){if(aO[aM]){var aL=L(aO[aM],aM,aK);aN.appendChild(aL)}}aP.appendChild(aN);return true};var ag=function(){var aL=document.createElement("form");T.appendChild(aL);aL.action=X;aL.method="GET";aL.setAttribute("autocomplete","OFF");var aK=0;for(aK=0;aK<ay.length;aK++){var aM=document.createElement("input");aM.setAttribute("type","hidden");aM.name=ay[aK][0];aM.value=ay[aK][1];aL.appendChild(aM)}return aL};var n=function(aR,aL){T=an("IdPEntryTile");if(c){T.style.display="none"}var aM=document.createElement("label");aM.setAttribute("for",aJ+"Input");if(aL){aD(aM,"idpEntry.label")}else{aD(aM,"idpEntry.NoPreferred.label")}var aP=ag();aP.appendChild(aM);var aO=document.createElement("input");aP.appendChild(aO);aO.type="text";k(aO,"Input");var aQ=document.createElement("input");aQ.setAttribute("type","hidden");aP.appendChild(aQ);aQ.name=aE;aQ.value="-";var aN=u("Select");aN.disabled=true;aP.appendChild(aN);aP.onsubmit=function(){if(null===aQ.value||0===aQ.value.length||"-"==aQ.value){return false}aO.value=aQ.textValue;aF(aQ.value);return true};ap=new TypeAheadControl(q,aO,aQ,aN,ar,aC,y,ai,g,aj,av,H);var aK=document.createElement("a");aK.appendChild(document.createTextNode(z("idpList.showList")));aK.href="#";ak(aK,"DropDownToggle");aK.onclick=function(){T.style.display="none";a(ax,aQ.value);i.style.display="";U.focus();return false};T.appendChild(aK);w(T);aR.appendChild(T)};var W=function(aK,aN){i=an("IdPListTile");if(!c){i.style.display="none"}var aR=document.createElement("label");aR.setAttribute("for",aJ+"Selector");if(aN){aD(aR,"idpList.label")}else{aD(aR,"idpList.NoPreferred.label")}ax=document.createElement("select");k(ax,"Selector");ax.name=aE;i.appendChild(ax);var aS=o("-",z("idpList.defaultOptionLabel"));aS.selected=true;ax.appendChild(aS);var aM;for(var aO=0;aO<q.length;aO++){aM=q[aO];aS=o(y(aM),aC(aM));ax.appendChild(aS)}var aL=ag();aL.appendChild(aR);aL.appendChild(ax);aL.onsubmit=function(){if(ax.selectedIndex<1){return false}aF(ax.options[ax.selectedIndex].value);return true};var aP=u("List");U=aP;aL.appendChild(aP);i.appendChild(aL);var aQ=document.createElement("a");aQ.appendChild(document.createTextNode(z("idpList.showSearch")));aQ.href="#";ak(aQ,"DropDownToggle");aQ.onclick=function(){T.style.display="";i.style.display="none";return false};i.appendChild(aQ);w(i);aK.appendChild(i)};var B=function(aN){var aL="IdPSelectAutoDisp";autoDispatchTile=an(undefined,"autoDispatchArea");autoDispatchTile.appendChild(document.createTextNode(z("autoFollow.message")));var aK=document.createElement("input");aK.setAttribute("type","radio");aK.setAttribute("checked","checked");aK.setAttribute("name",aL);aK.onclick=function(){D(0)};div=an(undefined,"autoDispatchTile");div.appendChild(aK);div.appendChild(document.createTextNode(z("autoFollow.never")));autoDispatchTile.appendChild(div);var aM;for(aM=0;aM<Y.length;aM++){aK=document.createElement("input");aK.setAttribute("type","radio");aK.setAttribute("name",aL);aK.life=Y[aM];aK.onclick=function(){var aO=this.life;D(aO)};div=an(undefined,"autoDispatchTile");div.appendChild(aK);div.appendChild(document.createTextNode(z("autoFollow.time"+aM)));autoDispatchTile.appendChild(div)}aN.appendChild(autoDispatchTile)};var u=function(aL){var aK=document.createElement("input");aK.setAttribute("type","submit");aK.value=z("submitButton.label");k(aK,aL+"Button");return aK};var w=function(aL){var aK=document.createElement("a");aK.href=Q;aK.appendChild(document.createTextNode(z("helpText")));ak(aK,"HelpButton");aL.appendChild(aK)};var an=function(aM,aK){var aL=document.createElement("div");if(undefined!==aM){k(aL,aM)}if(undefined!==aK){ak(aL,aK)}return aL};var o=function(aL,aM){var aK=document.createElement("option");aK.value=aL;if(aM.length>ar){aM=aM.substring(0,ar)}aK.appendChild(document.createTextNode(aM));return aK};var k=function(aL,aK){aL.id=aJ+aK};var ak=function(aL,aK){aL.setAttribute("class",ah+aK)};var aB=function(aK){return document.getElementById(aJ+aK)};var aF=function(aK){I(aK);aq(O)};var z=function(aK){var aL=Z[aK];if(!aL){aL=d[aK]}if(!aL){aL="Missing message for "+aK}return aL};var y=function(aK){return aK.entityID};var ai=function(aM){var aK;if(null==aM.Logos){return null}for(aK=0;aK<aM.Logos.length;aK++){var aL=aM.Logos[aK];if(aL.height=="16"&&aL.width=="16"){if(null==aL.lang||R==aL.lang||(typeof az!="undefined"&&az==aL.lang)||al==aL.lang){return aL.value}}}return null};var aC=function(aL){var aK=aw(aL.DisplayNames);if(null!==aK){return aK}r("No Name entry in any language for "+y(aL));return y(aL)};var H=function(aL){if(ao||null==aL.Keywords){return null}var aK=aw(aL.Keywords);return aK};var aw=function(aK){var aL;for(aL in aK){if(aK[aL].lang==R){return aK[aL].value}}if(typeof az!="undefined"){for(aL in aK){if(aK[aL].lang==az){return aK[aL].value}}}for(aL in aK){if(aK[aL].lang==null){return aK[aL].value}}for(aL in aK){if(aK[aL].lang==al){return aK[aL].value}}return null};var K=function(){var aO=[];var aN=0;var aM;var aL;if(null!=C){for(aM=0;aM<C.length&&aM<ae;aM++){aO[aM]=ac(C[aM]);aN++}}O=b();for(aM=aN,aL=0;aL<O.length&&aM<ae;aL++){var aK=ac(O[aL]);if(typeof aO.indexOf==="undefined"){aO.push(aK);aM++}else{if(aO.indexOf(aK)===-1){aO.push(aK);aM++}}}return aO};var I=function(aK){var aL=[];while(0!==O.length){var aM=O.pop();if(aM!=aK){aL.unshift(aM)}}aL.unshift(aK);O=aL;return};var D=function(aM){var aK;if(aM>0){var aL=new Date();cookieTTL=aM*24*60*60*1000;aK=new Date(aL.getTime()+cookieTTL)}else{aK=new Date(0)}document.cookie=P+"=1;path=/;expires="+aK.toUTCString()};var h=function(aM){var aO,aL;var aP;aP=document.cookie.split(";");for(aO=0;aO<aP.length;aO++){var aN=aP[aO];var aK=aN.indexOf("=");var aQ=aN.substring(0,aK);if(aM==(aQ.replace(/^\s+|\s+$/g,""))){return aN.substring(aK+1)}}return null};var b=function(){var aK=[];var aL;var aM=h("_saml_idp");if(aM!=null){aM=aM.replace(/^\s+|\s+$/g,"");aM=aM.replace("+","%20");aM=aM.split("%20");for(aL=aM.length;aL>0;aL--){if(0===aM[aL-1].length){continue}var aN=at(decodeURIComponent(aM[aL-1]));if(aN.length>0){aK.push(aN)}}}return aK};var aq=function(aP){var aM=[];var aO=aP.length;if(ad){return}if(aO>5){aO=5}for(var aN=aO;aN>0;aN--){if(aP[aN-1].length>0){aM.push(encodeURIComponent(v(aP[aN-1])))}}var aK=null;if(J){var aL=new Date();cookieTTL=J*24*60*60*1000;aK=new Date(aL.getTime()+cookieTTL)}document.cookie="_saml_idp="+aM.join("%20")+"; path = /"+((aK===null)?"":"; expires="+aK.toUTCString())};var v=function(aT){var aK="",aO,aM,aL,aS,aR,aQ,aP;for(var aN=0;aN<aT.length;){aO=aT.charCodeAt(aN++);aM=aT.charCodeAt(aN++);aL=aT.charCodeAt(aN++);aS=aO>>2;aR=((aO&3)<<4)+(aM>>4);aQ=((aM&15)<<2)+(aL>>6);aP=aL&63;if(isNaN(aM)){aQ=aP=64}else{if(isNaN(aL)){aP=64}}aK+=V.charAt(aS)+V.charAt(aR)+V.charAt(aQ)+V.charAt(aP)}return aK};var at=function(aN){var aL="",aU,aS,aQ,aT,aR,aP,aO;var aM=0;var aK=/[^A-Za-z0-9\+\/\=]/g;aN=aN.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{aT=V.indexOf(aN.charAt(aM++));aR=V.indexOf(aN.charAt(aM++));aP=V.indexOf(aN.charAt(aM++));aO=V.indexOf(aN.charAt(aM++));aU=(aT<<2)|(aR>>4);aS=((aR&15)<<4)|(aP>>2);aQ=((aP&3)<<6)|aO;aL=aL+String.fromCharCode(aU);if(aP!=64){aL=aL+String.fromCharCode(aS)}if(aO!=64){aL=aL+String.fromCharCode(aQ)}aU=aS=aQ="";aT=aR=aP=aO=""}while(aM<aN.length);return aL};var N=function(aL){alert("FATAL - DISCO UI:"+aL);var aK=document.createTextNode(aL);aH.appendChild(aK)};var r=function(){}}(new IdPSelectUI()).draw(new IdPSelectUIParms());